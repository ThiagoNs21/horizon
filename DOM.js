let allStyle = `alignContent,align-content,WebkitAlignContent,-webkit-align-content,webkitAlignContent,alignItems,align-items,WebkitAlignItems,-webkit-align-items,webkitAlignItems,alignSelf,align-self,WebkitAlignSelf,-webkit-align-self,webkitAlignSelf,aspectRatio,aspect-ratio,backfaceVisibility,backface-visibility,WebkitBackfaceVisibility,-webkit-backface-visibility,webkitBackfaceVisibility,baselineSource,baseline-source,borderCollapse,border-collapse,borderImageRepeat,border-image-repeat,boxDecorationBreak,box-decoration-break,boxSizing,box-sizing,WebkitBoxSizing,-webkit-box-sizing,webkitBoxSizing,breakInside,break-inside,captionSide,caption-side,clear,colorInterpolation,color-interpolation,colorInterpolationFilters,color-interpolation-filters,columnCount,column-count,columnFill,column-fill,columnSpan,column-span,contain,containerType,container-type,contentVisibility,content-visibility,direction,display,dominantBaseline,dominant-baseline,emptyCells,empty-cells,flexDirection,flex-direction,WebkitFlexDirection,-webkit-flex-direction,webkitFlexDirection,flexWrap,flex-wrap,WebkitFlexWrap,-webkit-flex-wrap,webkitFlexWrap,cssFloat,float,fontKerning,font-kerning,fontLanguageOverride,font-language-override,fontOpticalSizing,font-optical-sizing,fontSizeAdjust,font-size-adjust,fontStretch,font-stretch,fontStyle,font-style,fontSynthesisStyle,font-synthesis-style,fontVariantCaps,font-variant-caps,fontVariantEastAsian,font-variant-east-asian,fontVariantLigatures,font-variant-ligatures,fontVariantNumeric,font-variant-numeric,fontVariantPosition,font-variant-position,fontWeight,font-weight,forcedColorAdjust,forced-color-adjust,gridAutoFlow,grid-auto-flow,hyphens,-moz-hyphens,MozHyphens,imageOrientation,image-orientation,imageRendering,image-rendering,imeMode,ime-mode,isolation,justifyContent,justify-content,WebkitJustifyContent,-webkit-justify-content,webkitJustifyContent,justifyItems,justify-items,justifySelf,justify-self,lineBreak,line-break,listStylePosition,list-style-position,maskType,mask-type,mathDepth,math-depth,mathStyle,math-style,mixBlendMode,mix-blend-mode,MozBoxAlign,-moz-box-align,WebkitBoxAlign,-webkit-box-align,webkitBoxAlign,MozBoxDirection,-moz-box-direction,WebkitBoxDirection,-webkit-box-direction,webkitBoxDirection,MozBoxOrient,-moz-box-orient,WebkitBoxOrient,-webkit-box-orient,webkitBoxOrient,MozBoxPack,-moz-box-pack,WebkitBoxPack,-webkit-box-pack,webkitBoxPack,MozFloatEdge,-moz-float-edge,MozOrient,-moz-orient,MozTextSizeAdjust,-moz-text-size-adjust,WebkitTextSizeAdjust,-webkit-text-size-adjust,webkitTextSizeAdjust,MozWindowDragging,-moz-window-dragging,objectFit,object-fit,offsetRotate,offset-rotate,outlineStyle,outline-style,overflowAnchor,overflow-anchor,overflowWrap,overflow-wrap,word-wrap,wordWrap,paintOrder,paint-order,pointerEvents,pointer-events,position,printColorAdjust,print-color-adjust,color-adjust,colorAdjust,resize,rubyAlign,ruby-align,rubyPosition,ruby-position,scrollBehavior,scroll-behavior,scrollSnapAlign,scroll-snap-align,scrollSnapStop,scroll-snap-stop,scrollSnapType,scroll-snap-type,scrollbarGutter,scrollbar-gutter,scrollbarWidth,scrollbar-width,shapeRendering,shape-rendering,strokeLinecap,stroke-linecap,strokeLinejoin,stroke-linejoin,tableLayout,table-layout,textAlign,text-align,textAlignLast,text-align-last,textAnchor,text-anchor,textCombineUpright,text-combine-upright,textDecorationLine,text-decoration-line,textDecorationSkipInk,text-decoration-skip-ink,textDecorationStyle,text-decoration-style,textEmphasisPosition,text-emphasis-position,textJustify,text-justify,textOrientation,text-orientation,textRendering,text-rendering,textTransform,text-transform,textUnderlinePosition,text-underline-position,textWrapMode,text-wrap-mode,textWrapStyle,text-wrap-style,touchAction,touch-action,transformBox,transform-box,transformStyle,transform-style,WebkitTransformStyle,-webkit-transform-style,webkitTransformStyle,unicodeBidi,unicode-bidi,userSelect,user-select,-moz-user-select,MozUserSelect,WebkitUserSelect,-webkit-user-select,webkitUserSelect,vectorEffect,vector-effect,visibility,webkitLineClamp,WebkitLineClamp,-webkit-line-clamp,webkitTextSecurity,WebkitTextSecurity,-webkit-text-security,whiteSpaceCollapse,white-space-collapse,wordBreak,word-break,writingMode,writing-mode,zIndex,z-index,zoom,appearance,-moz-appearance,MozAppearance,WebkitAppearance,-webkit-appearance,webkitAppearance,MozForceBrokenImageIcon,-moz-force-broken-image-icon,breakAfter,break-after,breakBefore,break-before,clipRule,clip-rule,fillRule,fill-rule,fillOpacity,fill-opacity,strokeOpacity,stroke-opacity,fontSynthesisPosition,font-synthesis-position,fontSynthesisSmallCaps,font-synthesis-small-caps,fontSynthesisWeight,font-synthesis-weight,MozBoxOrdinalGroup,-moz-box-ordinal-group,WebkitBoxOrdinalGroup,-webkit-box-ordinal-group,webkitBoxOrdinalGroup,order,WebkitOrder,-webkit-order,webkitOrder,flexGrow,flex-grow,WebkitFlexGrow,-webkit-flex-grow,webkitFlexGrow,flexShrink,flex-shrink,WebkitFlexShrink,-webkit-flex-shrink,webkitFlexShrink,MozBoxFlex,-moz-box-flex,WebkitBoxFlex,-webkit-box-flex,webkitBoxFlex,strokeMiterlimit,stroke-miterlimit,overflowBlock,overflow-block,overflowInline,overflow-inline,overflowX,overflow-x,overflowY,overflow-y,overscrollBehaviorBlock,overscroll-behavior-block,overscrollBehaviorInline,overscroll-behavior-inline,overscrollBehaviorX,overscroll-behavior-x,overscrollBehaviorY,overscroll-behavior-y,floodOpacity,flood-opacity,opacity,shapeImageThreshold,shape-image-threshold,stopOpacity,stop-opacity,borderBlockEndStyle,border-block-end-style,borderBlockStartStyle,border-block-start-style,borderBottomStyle,border-bottom-style,borderInlineEndStyle,border-inline-end-style,-moz-border-end-style,MozBorderEndStyle,borderInlineStartStyle,border-inline-start-style,-moz-border-start-style,MozBorderStartStyle,borderLeftStyle,border-left-style,borderRightStyle,border-right-style,borderTopStyle,border-top-style,columnRuleStyle,column-rule-style,accentColor,accent-color,animationComposition,animation-composition,animationDelay,animation-delay,WebkitAnimationDelay,-webkit-animation-delay,webkitAnimationDelay,animationDirection,animation-direction,WebkitAnimationDirection,-webkit-animation-direction,webkitAnimationDirection,animationDuration,animation-duration,WebkitAnimationDuration,-webkit-animation-duration,webkitAnimationDuration,animationFillMode,animation-fill-mode,WebkitAnimationFillMode,-webkit-animation-fill-mode,webkitAnimationFillMode,animationIterationCount,animation-iteration-count,WebkitAnimationIterationCount,-webkit-animation-iteration-count,webkitAnimationIterationCount,animationName,animation-name,WebkitAnimationName,-webkit-animation-name,webkitAnimationName,animationPlayState,animation-play-state,WebkitAnimationPlayState,-webkit-animation-play-state,webkitAnimationPlayState,animationTimingFunction,animation-timing-function,WebkitAnimationTimingFunction,-webkit-animation-timing-function,webkitAnimationTimingFunction,backdropFilter,backdrop-filter,backgroundAttachment,background-attachment,backgroundBlendMode,background-blend-mode,backgroundClip,background-clip,WebkitBackgroundClip,-webkit-background-clip,webkitBackgroundClip,backgroundImage,background-image,backgroundOrigin,background-origin,WebkitBackgroundOrigin,-webkit-background-origin,webkitBackgroundOrigin,backgroundPositionX,background-position-x,backgroundPositionY,background-position-y,backgroundRepeat,background-repeat,backgroundSize,background-size,WebkitBackgroundSize,-webkit-background-size,webkitBackgroundSize,borderImageOutset,border-image-outset,borderImageSlice,border-image-slice,borderImageWidth,border-image-width,borderSpacing,border-spacing,boxShadow,box-shadow,WebkitBoxShadow,-webkit-box-shadow,webkitBoxShadow,caretColor,caret-color,clip,clipPath,clip-path,WebkitClipPath,-webkit-clip-path,webkitClipPath,color,colorScheme,color-scheme,columnWidth,column-width,containerName,container-name,content,counterIncrement,counter-increment,counterReset,counter-reset,counterSet,counter-set,cursor,d,filter,WebkitFilter,-webkit-filter,webkitFilter,flexBasis,flex-basis,WebkitFlexBasis,-webkit-flex-basis,webkitFlexBasis,fontFamily,font-family,fontFeatureSettings,font-feature-settings,WebkitFontFeatureSettings,-webkit-font-feature-settings,webkitFontFeatureSettings,fontPalette,font-palette,fontSize,font-size,fontVariantAlternates,font-variant-alternates,fontVariationSettings,font-variation-settings,gridTemplateAreas,grid-template-areas,hyphenateCharacter,hyphenate-character,hyphenateLimitChars,hyphenate-limit-chars,letterSpacing,letter-spacing,lineHeight,line-height,listStyleType,list-style-type,maskClip,mask-clip,WebkitMaskClip,-webkit-mask-clip,webkitMaskClip,maskComposite,mask-composite,WebkitMaskComposite,-webkit-mask-composite,webkitMaskComposite,maskImage,mask-image,WebkitMaskImage,-webkit-mask-image,webkitMaskImage,maskMode,mask-mode,maskOrigin,mask-origin,WebkitMaskOrigin,-webkit-mask-origin,webkitMaskOrigin,maskPositionX,mask-position-x,WebkitMaskPositionX,-webkit-mask-position-x,webkitMaskPositionX,maskPositionY,mask-position-y,WebkitMaskPositionY,-webkit-mask-position-y,webkitMaskPositionY,maskRepeat,mask-repeat,WebkitMaskRepeat,-webkit-mask-repeat,webkitMaskRepeat,maskSize,mask-size,WebkitMaskSize,-webkit-mask-size,webkitMaskSize,offsetAnchor,offset-anchor,offsetPath,offset-path,offsetPosition,offset-position,page,perspective,WebkitPerspective,-webkit-perspective,webkitPerspective,quotes,rotate,scale,scrollbarColor,scrollbar-color,shapeOutside,shape-outside,strokeDasharray,stroke-dasharray,strokeDashoffset,stroke-dashoffset,strokeWidth,stroke-width,tabSize,tab-size,-moz-tab-size,MozTabSize,textDecorationThickness,text-decoration-thickness,textEmphasisStyle,text-emphasis-style,textIndent,text-indent,textOverflow,text-overflow,textShadow,text-shadow,textUnderlineOffset,text-underline-offset,transformOrigin,transform-origin,WebkitTransformOrigin,-webkit-transform-origin,webkitTransformOrigin,transitionBehavior,transition-behavior,transitionDelay,transition-delay,WebkitTransitionDelay,-webkit-transition-delay,webkitTransitionDelay,transitionDuration,transition-duration,WebkitTransitionDuration,-webkit-transition-duration,webkitTransitionDuration,transitionProperty,transition-property,WebkitTransitionProperty,-webkit-transition-property,webkitTransitionProperty,transitionTimingFunction,transition-timing-function,WebkitTransitionTimingFunction,-webkit-transition-timing-function,webkitTransitionTimingFunction,translate,verticalAlign,vertical-align,webkitTextStrokeWidth,WebkitTextStrokeWidth,-webkit-text-stroke-width,willChange,will-change,wordSpacing,word-spacing,objectPosition,object-position,perspectiveOrigin,perspective-origin,WebkitPerspectiveOrigin,-webkit-perspective-origin,webkitPerspectiveOrigin,fill,stroke,gridTemplateColumns,grid-template-columns,gridTemplateRows,grid-template-rows,borderImageSource,border-image-source,listStyleImage,list-style-image,gridAutoColumns,grid-auto-columns,gridAutoRows,grid-auto-rows,transform,WebkitTransform,-webkit-transform,webkitTransform,columnGap,column-gap,grid-column-gap,gridColumnGap,rowGap,row-gap,grid-row-gap,gridRowGap,markerEnd,marker-end,markerMid,marker-mid,markerStart,marker-start,containIntrinsicBlockSize,contain-intrinsic-block-size,containIntrinsicHeight,contain-intrinsic-height,containIntrinsicInlineSize,contain-intrinsic-inline-size,containIntrinsicWidth,contain-intrinsic-width,gridColumnEnd,grid-column-end,gridColumnStart,grid-column-start,gridRowEnd,grid-row-end,gridRowStart,grid-row-start,maxBlockSize,max-block-size,maxHeight,max-height,maxInlineSize,max-inline-size,maxWidth,max-width,cx,cy,offsetDistance,offset-distance,x,y,borderBottomLeftRadius,border-bottom-left-radius,WebkitBorderBottomLeftRadius,-webkit-border-bottom-left-radius,webkitBorderBottomLeftRadius,borderBottomRightRadius,border-bottom-right-radius,WebkitBorderBottomRightRadius,-webkit-border-bottom-right-radius,webkitBorderBottomRightRadius,borderEndEndRadius,border-end-end-radius,borderEndStartRadius,border-end-start-radius,borderStartEndRadius,border-start-end-radius,borderStartStartRadius,border-start-start-radius,borderTopLeftRadius,border-top-left-radius,WebkitBorderTopLeftRadius,-webkit-border-top-left-radius,webkitBorderTopLeftRadius,borderTopRightRadius,border-top-right-radius,WebkitBorderTopRightRadius,-webkit-border-top-right-radius,webkitBorderTopRightRadius,bottom,insetBlockEnd,inset-block-end,insetBlockStart,inset-block-start,insetInlineEnd,inset-inline-end,insetInlineStart,inset-inline-start,left,right,top,marginBlockEnd,margin-block-end,marginBlockStart,margin-block-start,marginBottom,margin-bottom,marginInlineEnd,margin-inline-end,-moz-margin-end,MozMarginEnd,marginInlineStart,margin-inline-start,-moz-margin-start,MozMarginStart,marginLeft,margin-left,marginRight,margin-right,marginTop,margin-top,blockSize,block-size,height,inlineSize,inline-size,minBlockSize,min-block-size,minHeight,min-height,minInlineSize,min-inline-size,minWidth,min-width,width,borderBlockEndWidth,border-block-end-width,borderBlockStartWidth,border-block-start-width,borderBottomWidth,border-bottom-width,borderInlineEndWidth,border-inline-end-width,-moz-border-end-width,MozBorderEndWidth,borderInlineStartWidth,border-inline-start-width,-moz-border-start-width,MozBorderStartWidth,borderLeftWidth,border-left-width,borderRightWidth,border-right-width,borderTopWidth,border-top-width,columnRuleWidth,column-rule-width,outlineWidth,outline-width,paddingBlockEnd,padding-block-end,paddingBlockStart,padding-block-start,paddingBottom,padding-bottom,paddingInlineEnd,padding-inline-end,-moz-padding-end,MozPaddingEnd,paddingInlineStart,padding-inline-start,-moz-padding-start,MozPaddingStart,paddingLeft,padding-left,paddingRight,padding-right,paddingTop,padding-top,r,shapeMargin,shape-margin,rx,ry,scrollPaddingBlockEnd,scroll-padding-block-end,scrollPaddingBlockStart,scroll-padding-block-start,scrollPaddingBottom,scroll-padding-bottom,scrollPaddingInlineEnd,scroll-padding-inline-end,scrollPaddingInlineStart,scroll-padding-inline-start,scrollPaddingLeft,scroll-padding-left,scrollPaddingRight,scroll-padding-right,scrollPaddingTop,scroll-padding-top,outlineOffset,outline-offset,overflowClipMargin,overflow-clip-margin,scrollMarginBlockEnd,scroll-margin-block-end,scrollMarginBlockStart,scroll-margin-block-start,scrollMarginBottom,scroll-margin-bottom,scrollMarginInlineEnd,scroll-margin-inline-end,scrollMarginInlineStart,scroll-margin-inline-start,scrollMarginLeft,scroll-margin-left,scrollMarginRight,scroll-margin-right,scrollMarginTop,scroll-margin-top,backgroundColor,background-color,borderBlockEndColor,border-block-end-color,borderBlockStartColor,border-block-start-color,borderBottomColor,border-bottom-color,borderInlineEndColor,border-inline-end-color,-moz-border-end-color,MozBorderEndColor,borderInlineStartColor,border-inline-start-color,-moz-border-start-color,MozBorderStartColor,borderLeftColor,border-left-color,borderRightColor,border-right-color,borderTopColor,border-top-color,columnRuleColor,column-rule-color,floodColor,flood-color,lightingColor,lighting-color,outlineColor,outline-color,stopColor,stop-color,textDecorationColor,text-decoration-color,textEmphasisColor,text-emphasis-color,webkitTextFillColor,WebkitTextFillColor,-webkit-text-fill-color,webkitTextStrokeColor,WebkitTextStrokeColor,-webkit-text-stroke-color,background,backgroundPosition,background-position,borderColor,border-color,borderStyle,border-style,borderWidth,border-width,borderTop,border-top,borderRight,border-right,borderBottom,border-bottom,borderLeft,border-left,borderBlockStart,border-block-start,borderBlockEnd,border-block-end,borderInlineStart,border-inline-start,-moz-border-start,MozBorderStart,borderInlineEnd,border-inline-end,-moz-border-end,MozBorderEnd,border,borderRadius,border-radius,WebkitBorderRadius,-webkit-border-radius,webkitBorderRadius,borderImage,border-image,WebkitBorderImage,-webkit-border-image,webkitBorderImage,borderBlockWidth,border-block-width,borderBlockStyle,border-block-style,borderBlockColor,border-block-color,borderInlineWidth,border-inline-width,borderInlineStyle,border-inline-style,borderInlineColor,border-inline-color,borderBlock,border-block,borderInline,border-inline,overflow,overscrollBehavior,overscroll-behavior,container,pageBreakBefore,page-break-before,pageBreakAfter,page-break-after,pageBreakInside,page-break-inside,offset,columns,columnRule,column-rule,font,fontVariant,font-variant,fontSynthesis,font-synthesis,marker,textEmphasis,text-emphasis,textWrap,text-wrap,whiteSpace,white-space,webkitTextStroke,WebkitTextStroke,-webkit-text-stroke,listStyle,list-style,margin,marginBlock,margin-block,marginInline,margin-inline,scrollMargin,scroll-margin,scrollMarginBlock,scroll-margin-block,scrollMarginInline,scroll-margin-inline,outline,padding,paddingBlock,padding-block,paddingInline,padding-inline,scrollPadding,scroll-padding,scrollPaddingBlock,scroll-padding-block,scrollPaddingInline,scroll-padding-inline,flexFlow,flex-flow,WebkitFlexFlow,-webkit-flex-flow,webkitFlexFlow,flex,WebkitFlex,-webkit-flex,webkitFlex,gap,grid-gap,gridGap,gridRow,grid-row,gridColumn,grid-column,gridArea,grid-area,gridTemplate,grid-template,grid,placeContent,place-content,placeSelf,place-self,placeItems,place-items,inset,insetBlock,inset-block,insetInline,inset-inline,containIntrinsicSize,contain-intrinsic-size,mask,WebkitMask,-webkit-mask,webkitMask,maskPosition,mask-position,WebkitMaskPosition,-webkit-mask-position,webkitMaskPosition,textDecoration,text-decoration,transition,WebkitTransition,-webkit-transition,webkitTransition,animation,WebkitAnimation,-webkit-animation,webkitAnimation,all,MozTransform,-moz-transform,MozPerspective,-moz-perspective,MozPerspectiveOrigin,-moz-perspective-origin,MozBackfaceVisibility,-moz-backface-visibility,MozTransformStyle,-moz-transform-style,MozTransformOrigin,-moz-transform-origin,MozFontFeatureSettings,-moz-font-feature-settings,MozFontLanguageOverride,-moz-font-language-override,MozBoxSizing,-moz-box-sizing,MozAnimationName,-moz-animation-name,MozAnimationDuration,-moz-animation-duration,MozAnimationTimingFunction,-moz-animation-timing-function,MozAnimationIterationCount,-moz-animation-iteration-count,MozAnimationDirection,-moz-animation-direction,MozAnimationPlayState,-moz-animation-play-state,MozAnimationFillMode,-moz-animation-fill-mode,MozAnimationDelay,-moz-animation-delay,MozBorderImage,-moz-border-image,MozAnimation,-moz-animation,item,getPropertyValue,getPropertyPriority,setProperty,removeProperty,cssText,length,parentRule`.split(",")
let allEvents = `onabort,onblur,onfocus,oncancel,onauxclickv,onbeforeinput,onbeforetoggle,oncanplay,oncanplaythrough,onchange,onclick,onclose,oncontentvisibilityautostatechange,oncontextlost,oncontextmenu,oncontextrestored,oncopy,oncuechange,oncut,ondblclick,ondrag,ondragend,ondragenter,ondragexit,ondragleave,ondragover,ondragstart,ondrop,ondurationchange,onemptied,onended,onformdata,oninput,oninvalid,onkeydown,onkeypress,onkeyup,onload,onloadeddata,onloadedmetadata,onloadstart,onmousedown,onmouseenter,onmouseleave,onmousemove,onmouseout,onmouseover,onmouseup,onwheel,onpaste,onpause,onplay,onplaying,onprogress,onratechange,onreset,onresize,onscroll,onscrollend,onsecuritypolicyviolation,onseeked,onseeking,onselect,onslotchange,onstalled,onsubmit,onsuspend,ontimeupdate,onvolumechange,onwaiting,onselectstart,onselectionchange,ontoggle,onpointercancel,onpointerdown,onpointerup,onpointermove,onpointerout,onpointerover,onpointerenter,onpointerleave,ongotpointercapture,onlostpointercapture,onmozfullscreenchange,onmozfullscreenerror,onanimationcancel,onanimationend,onanimationiteration,onanimationstart,ontransitioncancel,ontransitionend,ontransitionrun,ontransitionstart,onwebkitanimationend,onwebkitanimationiteration,onwebkitanimationstart,onwebkittransitionend,onerror,onfullscreenchange,onfullscreenerror`.split(",");

system = {
    log:(l,arguments)=>{
        
            console.log(l.node[l.index][arguments])
    }
};

function __static(func,index=undefined){

    let ref = func.toString();
    let getMethod = func.toString();
    getMethod = getMethod.substring(getMethod.indexOf("=>{")+3,getMethod.length-1)
    let methods = getMethod.split(`.`)

    methods = methods.map(m=>{let res = m.substring(0,m.indexOf("("));return res.trim()}).filter(f=>f!=""&&f!=" ").sort()
    

    if(methods.length>1){
        
    let before = [];
    let after = [];
        methods.forEach((m,i)=>{

            if(methods[i+1]!=undefined&&methods[i+1]!=m){
                before.push(m)
            }
    
            if(methods[i-1]!=undefined&&methods[i-1]!=m){
                after.push(m)
            }  
    
        })
    
        methods = [before[0],...after]
    }else{
        
    }

    if(ref.indexOf("(")==0){
        ref = ref.substring(1,ref.indexOf(")=>")).split(",").map(f=>{

            if(!f.includes("$"))
                return getAll(f,[...methods],index)
            else
                return get(f.substring(1),[...methods],index)

        })
    }

    func(...ref);
};

function __dynamic(func,index=undefined){

    let ref = func.toString();
    let getMethod = func.toString();
    getMethod = getMethod.substring(getMethod.indexOf("=>{")+3,getMethod.length-1)
    let methods = getMethod.split(`.`)

    methods = methods.map(m=>{let res = m.substring(0,m.indexOf("("));return res.trim()}).filter(f=>f!=""&&f!=" ").sort()
    
    if(methods.length>1){
        
    let before = [];
    let after = [];
        methods.forEach((m,i)=>{

            if(methods[i+1]!=undefined&&methods[i+1]!=m){
                before.push(m)
            }
    
            if(methods[i-1]!=undefined&&methods[i-1]!=m){
                after.push(m)
            }  
    
        })
    
        methods = [before[0],...after]
    }else{
        
    }

    if(ref.indexOf("(")==0){
        ref = ref.substring(1,ref.indexOf(")=>")).split(",").map(f=>{

            if(!f.includes("$"))
                return getAll(f,[...methods],index)
            else
                return get(f.substring(1),[...methods],index)

        })
    }
    func(...ref);
        setInterval(()=>{
            let gear = true;
            const time = setInterval(()=>{
                if(gear){
                    func(...ref);
                    gear = false;
                }else{
                    clearInterval(time);
                    gear = true
                }
            },500)
        },500);

};


function getAll(arg,methods,index=undefined){

    let all = document.querySelectorAll(arg);

    let standard = {
        property:(a)=>{
            return function(text){
                if(index==undefined){
                if(text.toString().includes("{")&&text.includes("}")){
                    let ref = text.substring(text.indexOf("{")+1,text.indexOf("}"))
                    let value;
                    
                   all.forEach((all,int)=>{
                    
                    if(text.includes("#")){
                    value = document.querySelector(ref);
        
                    all[a] = text.replaceAll(`{${ref}}`,value.value);
                    value.addEventListener("keyup",()=>{
                        all[a] = text.replaceAll(`{${ref}}`,value.value)
                    });
                    value.addEventListener("change",()=>{
                        all[a] = text.replaceAll(`{${ref}}`,value.value)
                    });
                    }else{
                        
                    value = document.querySelectorAll(ref);
                    all[a] = text.replaceAll(`{${ref}}`,value[int].value);
                    value[int].addEventListener("keyup",()=>{
                        all[a] = text.replaceAll(`{${ref}}`,value[int].value)
                    });
                    value[int].addEventListener("change",()=>{
                        all[a] = text.replaceAll(`{${ref}}`,value[int].value)
                    });
        
                    }
        
                   });
                }else{
                   
                    all.forEach(all=>{

                        all[a] = text

                    })
                }
            }else{
                all[index][a] = text
            }
                

                return this
            };
            
        },
        style:(a)=>{
            return function(text){
                if(index==undefined){
                if(text.includes("{")&&text.includes("}")){
                    let ref = text.substring(text.indexOf("{")+1,text.indexOf("}"))
                    let value;

                    all.forEach((all,int)=>{
                    if(text.includes("#")){
                    value = document.querySelector(ref);
        
                    all.style[a] = text.replaceAll(`{${ref}}`,value.value);
                    value.addEventListener("keyup",()=>{
                        all.style[a] = text.replaceAll(`{${ref}}`,value.value)
                    });
                    value.addEventListener("change",()=>{
                        all.style[a] = text.replaceAll(`{${ref}}`,value.value)
                    });
                    }else{
                        
                    value = document.querySelectorAll(ref);
                    all.style[a] = text.replaceAll(`{${ref}}`,value[int].value);
                    value[int].addEventListener("keyup",()=>{
                        all.style[a] = text.replaceAll(`{${ref}}`,value[int].value)
                    });
                    value[int].addEventListener("change",()=>{
                        all.style[a] = text.replaceAll(`{${ref}}`,value[int].value)
                    });
        
                    }
        
                   });
                }else{
                    all.forEach(all=>{

                        all.style[a] = text

                    })
                }
            }else{
                all[index].style[a] = text
            }

                return this
            }
        },
        event:(a)=>{

            return function(func){
                all.forEach((all,int)=>{

                    function getFunc(f,index=undefined){

                        let ref = f.toString();
                        let getMethod = f.toString();
                        getMethod = getMethod.substring(getMethod.indexOf("=>{")+3,getMethod.length-1)
                        let methods = getMethod.split(`.`)
                    
                        methods = methods.map(m=>{let res = m.substring(0,m.indexOf("("));return res.trim()}).filter(f=>f!=""&&f!=" ").sort()
                        
                        if(methods.length>1){
                            
                        let before = [];
                        let after = [];
                            methods.forEach((m,i)=>{
                    
                                if(methods[i+1]!=undefined&&methods[i+1]!=m){
                                    before.push(m)
                                }
                        
                                if(methods[i-1]!=undefined&&methods[i-1]!=m){
                                    after.push(m)
                                }  
                        
                            })
                        
                            methods = [before[0],...after]
                        }else{
                            
                        }
                    
                        if(ref.indexOf("(")==0){
                            ref = ref.substring(1,ref.indexOf(")=>")).split(",").map(f=>{
                    
                                if(!f.includes("$"))
                                    return getAll(f,[...methods],index)
                                else
                                    return get(f.substring(1),[...methods],index)
                    
                            })
                        }
                    
                        f(...ref);
                    };
    
                all.addEventListener(a,()=>getFunc(func,int));
                return this

                })
            }
        }
    };


    function getStyle(stl,obj){      

        let style = [];
        allStyle.forEach(props=>{
            stl.forEach(stl=>{
                if(props==stl){
                    
                    style.push(stl)
                }
            })
        });

        style.forEach(style=>obj[style] = standard.style(style))
    };
    function getEvent(evt,obj){
                
        let event = [];
        allEvents.forEach(props=>{
            evt.forEach(evt=>{
                if(props.substring(2)==evt){
                    
                    event.push(evt)
                }
            })
        });

        event.forEach(event=>obj[event] = standard.event(event))
    };

    function windowMethod(methods,obj){

        methods.forEach(mth=>{

            if(window[mth]){

                obj[mth] = function(arguments){

                    all.forEach((elm,int)=>{
                        window[mth]({all:elm,node:all,index:int,self:obj,ref:arg},arguments); 
                     });
                     return this;
                }
                
            }

        })

        
    }

    return new class {

        constructor(){
            this.query = (int)=>getAll(arg,methods,int);
            
            if(index!=undefined){
                this.dom = all[index]
            }

            

            this.text = standard.property("innerText");
            this.html = standard.property("innerHTML");
            getStyle(methods,this);
            getEvent(methods,this);
            windowMethod(methods,this);

            this.run = function(func){
                setInterval(()=>{
                    let gear = true;
                    const time = setInterval(()=>{
                        if(gear){
                            func();
                            gear = false;
                        }else{
                            clearInterval(time);
                            gear = true
                        }
                    },200)
                },200);
                return this
            }
        }
    }
};

function __staticObject(property){

    for(let proper in property){

        let text = property[proper];

        if(text.includes("{")&&text.includes("}")){
            let ref = text.substring(text.indexOf("{")+1,text.indexOf("}"))
            let value;
            if(text.includes("#")){
            value = document.querySelector(ref);

            property[proper] = text.replaceAll(`{${ref}}`,value.value);
            value.addEventListener("keyup",()=>{
                property[proper] = text.replaceAll(`{${ref}}`,value.value)
            });
            value.addEventListener("change",()=>{
                property[proper] = text.replaceAll(`{${ref}}`,value.value)
            });
            }
        }
        if(text.includes("[")&&text.includes("]")){
            
            if(text.includes("[id:")||text.includes("[class:")||text.includes("[name:")){

                let hook = "";
                let name = "";
                
                if(text.includes("[id:")){
                    hook = "[id:";
                    name = text.indexOf("[id:")+4;
                    console.log(hook,name,text.substring(name,text.indexOf("]")))
                }if(text.includes("[class:")){
                    hook = "[class:";
                    name = text.indexOf("[class:")+7;
                }if(text.includes("[name:")){
                    hook = "[name:";
                    name = text.indexOf("[name:")+6;
                }

                let ref = text.substring(name,text.indexOf("]"))
                let value = document.querySelectorAll(ref);
    
                property[proper] = {};
                    value.forEach((value,int)=>{
    
                    property[proper][value.id] = text.replaceAll(`${hook}${ref}]`,value.value);
                    value.addEventListener("keyup",()=>{
                        property[proper][value.id] = text.replaceAll(`${hook}${ref}]`,value.value)
                    });
                    value.addEventListener("change",()=>{
                        property[proper][value.id] = text.replaceAll(`${hook}${ref}]`,value.value)
                    });
        
                });

            }else{

                let ref = text.substring(text.indexOf("[")+1,text.indexOf("]"))
                let value = document.querySelectorAll(ref);
    
                property[proper] = [];
                    value.forEach((value,int)=>{
    
                    property[proper][int] = text.replaceAll(`[${ref}]`,value.value);
                    value.addEventListener("keyup",()=>{
                        property[proper][int] = text.replaceAll(`[${ref}]`,value.value)
                    });
                    value.addEventListener("change",()=>{
                        property[proper][int] = text.replaceAll(`[${ref}]`,value.value)
                    });
                });
            }
        }
    }
}


function now(){

    let time = new Date;
    
    let minutes = 0;
    
    time.getMinutes().toString().length<2?
    minutes=`0${time.getMinutes()}`:minutes = time.getMinutes();
    
    time.getSeconds().toString().length<2?
    seconds=`0${time.getSeconds()}`:seconds = time.getSeconds();
    
    
    let month = ["","Janeiro","Fevereiro","Março","Abril","Maio","Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro" , "Dezembro"];
    
    let setDate = {
        day:time.toJSON().substring(8,10),
        month:month[time.toJSON().substring(6,7)],
        year:time.toJSON().substring(0,4)
    };
  
    let GetDate = {
      day:time.toJSON().substring(8,10),
      month:time.toJSON().substring(6,7),
      year:time.toJSON().substring(0,4)
  };
    
    let today = `${setDate.day} de ${setDate.month} de ${setDate.year}`;
    let hour = `${time.getHours()}:${minutes}:${seconds}`;
    
    
    return {
        hour:hour,
        date:GetDate,
        today:today,
        month:month,
        register:JSON.stringify({
          hour:hour,
          date:GetDate
      })
    }
    
  };


window.date = (a,b="")=>{
    if(b.includes("{")){
        let replace = b.substring(b.indexOf("{")+1,b.indexOf("}"));
        a.self.text(b.replaceAll(`{${replace}}`,now().today));
    }else{
        a.self.text(now().today);
    }
};
window.hour = (a,b="")=>{
    if(b.includes("{")){
        let replace = b.substring(b.indexOf("{")+1,b.indexOf("}"));
        a.self.text(b.replaceAll(`{${replace}}`,now().hour));
    }else{
        a.self.text(now().hour);
    }
};
